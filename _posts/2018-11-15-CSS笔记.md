---

layout: post
title: "CSS笔记"
date: 2018-11-15

---

# How to apply CSS to HTML
## External
```html
<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>Hello World!</h1>
  </body>
</html>
```

## Internal

```html
<!DOCTYPE html>
<html>
  <head>
    <style>
      p {
        color: red;
      }
    </style>
  </head>
  <body>
    <h1>Hello World!</h1>
  </body>
</html>
```
## Inline
```html
<html>
  <body>
    <h1 style="color: blue;background-color: yellow;border: 1px solid black;">Hello World!</h1>
    <p style="color:red;">This is my first CSS example</p>
  </body>
</html>
```

# How does CSS work?
![css](/assets/css_rendering.svg)


# Syntax
At its most basic level, CSS consists of two building blocks:

- `Properties`: Human-readable identifiers that indicate which stylistic features (e.g. font, width, background color) you want to change.

- `Values`: Each specified property is given a value, which indicates how you want to change those stylistic features (e.g. what you want to change the font, width or background color to.)

A property paired with a value is called a CSS declaration. 
CSS declarations are put within CSS Declaration Blocks. And finally, CSS declaration blocks are paired with selectors to produce CSS Rulesets (or CSS Rules).

both properties and values are **case-sensitive** in CSS.

---

![css syntax - declarations block](/assets/css syntax - declarations block.png)

---

![css syntax - ruleset](/assets/css syntax - ruleset.png)

   
Comments in CSS begin with `/*` and end with `*/`.

```css
.markdown {
  color: #666;
  font-size: 14px;
  /* line-height: 1.8; */
}
```

Each declaration contained inside a declaration block has to be separated by a semi-colon (`;`)


# Selector

Selectors can be divided into the following categories:

- Simple selectors
- Attribute selectors
- Pseudo-classes
- Pseudo-elements
- Combinators
- Multiple selectors


| selector | Example | Description |
| --- | --- | --- |
| .class | .intro | class 为 intro 的所有元素|
| #id | #firstname | id 为 firstname 的元素 |
| * | * | 所有元素 |
| element | p | 所有 \<p> 元素 |
| element,element | div,p | 所有 \<div> 和 \<p> 元素 |
| element element | div p | 所有 \<div> 下的 \<p> 元素 |

> https://www.w3schools.com/cssref/css_selectors.asp

## pseudo-class
specifies a special state of the selected element(s).

`:root` 与 **html** 相同，但优先级更高
## pseudo-element
A CSS pseudo-element is a keyword added to a selector that lets you style a specific part of the selected element(s). 

### ::before
`::before` creates a pseudo-element that is the first child of the selected element. 

## Shorthand

Some properties like `font`, `background`, `padding`, `border`, and `margin` are called shorthand properties — this is because they allow you to set several property values in a single line, saving time and making your code neater in the process.


in shorthand like padding and margin, the values are applied in the order top, right, bottom, left (the same order as an analog clock). There are also other shorthand types, for example two values, which set for example the padding for top/bottom, then left/right

```css
{
  padding: 10px 15px 15px 5px;
}

```
Does the same thing as all these:

```css
{
  padding-top: 10px;
  padding-right: 15px;
  padding-bottom: 15px;
  padding-left: 5px;
}
```


```css
{
  background: red url(bg-graphic.png) 10px 10px repeat-x fixed;
}
```
Does the same thing as all these:

```css
{
  background-color: red;
  background-image: url(bg-graphic.png);
  background-position: 10px 10px;
  background-repeat: repeat-x;
  background-scroll: fixed;
}
```

### Tips
If the margin property has four values:

```css
margin: 25px 50px 75px 100px;
```

top margin is 25px
right margin is 50px
bottom margin is 75px 
left margin is 100px

If the margin property has three values:

```css
margin: 25px 50px 75px;
```

top margin is 25px
right and left margins are 50px
bottom margin is 75px

If the margin property has two values:

```css
margin: 25px 50px;
```

top and bottom margins are 25px
right and left margins are 50px

# value & unit
Pixels (`px`) are referred to as **absolute units** because they will always be the same size regardless of any other related settings. Other absolute units are as follows:

`q`, `mm`, `cm`, `in`: Quarter millimeters, millimeters, centimeters, or inches.
`pt`, `pc`: Points (1/72 of an inch) or picas (12 points.)

You probably won't use any of these very often except pixels.

There are also relative units, which are relative to the current element's font-size or viewport size:

- `em`: 1em is the same as the **font-size** of the current element.(more specifically, the width of a capital letter M.) But beware — font sizes are inherited by elements from their parents, so if different font sizes have been set on parent elements, the pixel equivalent of an em can start to become complicated.

- `rem`: The `rem` (**root** `em`) works in exactly the same way as the em, except that it will always equal the size of the default base font-size;

- `vw`, `vh`: Respectively these are 1/100th of the width of the viewport, and 1/100th of the height of the viewport. Again, these are not as widely supported as em.

You can also use percentage values to specify most things that can be specified by specific numeric values.

## color
Keywords, Hexadecimal values, RGB, HSL, RGBA, HSLA

```css
p {
  background-color: rgba(255,0,0,0.5);
}
```

There is another way to specify transparency via CSS — the `opacity` property. Instead of setting the transparency of a particular color, this sets the transparency of all selected elements and their children. 

# Cascade and inheritance

What selectors win out in the cascade depends on three factors (these are listed in order of weight — earlier ones will overrule later ones):

1. Importance
2. Specificity
3. Source order

## Importance
In CSS, there is a special piece of syntax you can use to make sure that a certain declaration will always win over all others: `!important`.
```css
.better {
  background-color: gray;
  border: none !important;
}
```

## Specificity
`Specificity` is basically a measure of how specific a selector is — how many elements it could match.

The amount of specificity a selector has is measured using four different values (or components), which can be thought of as thousands, hundreds, tens and ones — four single digits in four columns:

- `Thousands`: Score one in this column if the declaration is inside a style attribute, aka **inline styles**. Such declarations don't have selectors, so their specificity is always simply 1000.
- `Hundreds`: Score one in this column for each **ID selector** contained inside the overall selector.
- `Tens`: Score one in this column for each **class selector**, **attribute selector**, or **pseudo-class** contained inside the overall selector.
- `Ones`: Score one in this column for each **element selector** or **pseudo-element** contained inside the overall selector.


Universal selector (`*`), combinators (`+`, `>`,`~`, ` `) and negation pseudo-class (`:not`) have no effect on specificity.

## Source order
later rules will win over earlier rules.

## Inheritance
Some property values applied to an element will be inherited by that element's children, and some won't.

# Box model
![box-model](/assets/box-model.png)
The `width` and `height` properties set the width and height of the `content box`.

**Note:** Margins have a specific behavior called `margin collapsing`: When two boxes touch against one another, the distance between them is the value of the largest of the two touching margins, and **not** their sum.

By default, the content width is set to 100% of the available space (after the margin, border, and padding have taken their share) 

Padding and margin, 5% means "5% of the containing element's width."

Margins can accept negative values, which can be used to cause element boxes to overlap.

![box-sizing:border-box](/assets/box-sizing-border-box.png)

Overflow: visible - If there is too much content, the overflowing content is shown outside of the box (this is usually the default behavior.)

Box backgrounds are made up of colors and images, stacked on top of each other (`background-color`, `background-image`.) They are applied to a box and drawn under that box. By default, backgrounds extend to the outer edge of the border. This is often fine, but in some cases it can be annoying (what if you have a tiled background image that you want to only extend to the edge of the content?) This behaviour can be adjusted by setting the `background-clip` property on the box.

# display
The type of box applied to an element is specified by the display property. There are many different values available for display, but in this article we will focus on the three most common ones; `block`, `inline`, and `inline-block`.

- A `block` box is defined as a box that's stacked upon other boxes (i.e. content before and after the box appears on a separate line), and can have width and height set on it. The whole box model as described above applies to block boxes.

- An `inline` box is the opposite of a block box: it flows with the document's text (i.e. it will appear on the same line as surrounding text and other inline elements, and its content will break with the flow of the text, like lines of text in a paragraph.) `Width` and `height` settings have **no effect** on inline boxes; any padding, margin and border set on inline boxes will update the position of surrounding text, but will not affect the position of surrounding block boxes.

- An `inline-block` box is something in between the first two: It flows with surrounding text and other inline elements without creating line breaks before and after it unlike a block box, but it can be sized using width and height and maintains its block integrity like a block box. It won't be broken across paragraph lines like an inline box. In the below example the inline-block box goes onto the 2nd line of text while keeping the shape of a box as there is not enough space for it on the first line, whereas inline box does break on multiple lines if there is not enough space — it loses the shape of a box.

# position
- `static` - 默认值，此时 top, bottom, left, right, z-index 无效。
- `relative` - 预先放置空间，再在此基础上偏移。
- `absolute` - 相对于最近的非 static 元素偏移。
- `fixed` - 相对于 viewport 定位，滚动时位置不变。

> [Position - mozilla.org](https://developer.mozilla.org/zh-CN/docs/Web/CSS/position)

# custom properties

Property names that are prefixed with `--`, like `--example-name`, represent custom properties that contain a value that can be used in other declarations using the `var()` function.

```css
:root {
  --first-color: #488cff;
  --second-color: #ffff8c;
}

#firstParagraph {
  background-color: var(--first-color);
  color: var(--second-color);
}
```

# transition
The `transition` CSS property is a shorthand property for `transition-property`, `transition-duration`, `transition-timing-function`, and `transition-delay`.

# animation
The `animation` shorthand CSS property sets an animated transition between styles. It is a shorthand for `animation-name`, `animation-duration`, `animation-timing-function`, `animation-delay`, `animation-iteration-count`, `animation-direction`, `animation-fill-mode`, and `animation-play-state`.

# misc

Declarations that aren't understood are generally just ignored.

Setting CSS properties to specific values is the core function of the CSS language.

a selector — a pattern that matches some elements on the page.

the `<body>` element, which by default is 100% of the width of the viewport.

# LESS

## 变量

```less
@width: 10px;

#header {
  width: @width;
}
```

在 selector 中使用变量：

```less
// Variables
@my-selector: banner;

// Usage
.@{my-selector} {
  font-weight: bold;
  line-height: 40px;
  margin: 0 auto;
}
```

Compiles to:

```css
.banner {
  font-weight: bold;
  line-height: 40px;
  margin: 0 auto;
}
```

## Mixin 

```less
.bordered {
  border-top: dotted 1px black;
  border-bottom: solid 2px black;
}
#menu a {
  color: #111;
  .bordered();
}
```

### Parametric Mixins

```less
.border-radius(@radius) {
  -webkit-border-radius: @radius;
     -moz-border-radius: @radius;
          border-radius: @radius;
}
```

```less
#header {
  .border-radius(4px);
}
```

## 嵌套
```less
#header {
  color: black;
  .navigation {
    font-size: 12px;
  }
  .logo {
    width: 300px;
  }
}
```

> http://lesscss.org/#

# SCSS
## 特色
- 完全兼容 CSS3
- 在 CSS 语言基础上添加了扩展功能，比如变量、嵌套 (nesting)、混合 (mixin)

## 变量 `$`
```scss
$width: 5em;

#main {
  width: $width;
}
```

## 嵌套

```scss
#main p {
  color: #00ff00;

  .redbox {
    background-color: #ff0000;
    color: #000000;
  }
}
```
引用父选择符： `&`

## mixin
Defining a Mixin: `@mixin`
```scss
@mixin large-text {
  font: {
    family: Arial;
    size: 20px;
    weight: bold;
  }
  color: #ff0000;
}
```

Including a Mixin: `@include`

```scss
.page-title {
  @include large-text;
  padding: 4px;
  margin-top: 10px;
}
```
# bootstrap

## Grid
Bootstrap’s grid system uses a series of `containers`, `rows`, and `columns` to layout and align content.

- Rows are wrappers for columns.
- In a grid layout, content must be placed within columns and only columns may be immediate children of rows.
- Grid breakpoints are based on minimum width media queries, meaning **they apply to that one breakpoint and all those above it**.

**Containers** 
Containers are the most basic layout element in Bootstrap and are required when using our default grid system. Choose from a responsive, `fixed-width` container (meaning its `max-width` changes at each `breakpoint`) or `fluid-width `(meaning it’s `100%` wide all the time).

```html
<div class="container">
  <!-- Content here -->
</div>
```

```html
<div class="container-fluid">
  ...
</div>
```

**breakpoints**

| | Extra small  <576px | Small ≥576px |	Medium ≥768px | Large ≥992px | Extra large ≥1200px |
| -- | -- | -- | -- | -- | -- |
| Max container width	| None (auto) | 540px | 720px | 960px | 1140px |
| Class prefix | .col- | .col-sm- | .col-md- | .col-lg- |.col-xl- |

**Spacing**
The classes are named using the format `{property}{sides}-{size}` for `xs` and `{property}{sides}-{breakpoint}-{size}` for `sm`, `md`, `lg`, and `xl`.

Where property is one of:

- `m` - for classes that set **margin**
- `p` - for classes that set **padding**

Where sides is one of:

- `t` - for classes that set `margin-top` or `padding-top`
- `b` - for classes that set `margin-bottom` or `padding-bottom`
- `l` - for classes that set `margin-left` or `padding-left`
- `r` - for classes that set `margin-right` or `padding-right`
- `x` - for classes that set both `*-left` and `*-right`
- `y` - for classes that set both `*-top` and `*-bottom`
- blank - for classes that set a `margin` or `padding` on all 4 sides of the element

Where size is one of:

- `0` - for classes that eliminate the margin or padding by setting it to `0`
- `1` - (by default) for classes that set the margin or padding to `$spacer * .25`
- `2` - (by default) for classes that set the margin or padding to `$spacer * .5`
- `3` - (by default) for classes that set the margin or padding to `$spacer`
- `4` - (by default) for classes that set the margin or padding to `$spacer * 1.5`
- `5` - (by default) for classes that set the margin or padding to `$spacer * 3`
- `auto` - for classes that set the margin to auto

(You can add more sizes by adding entries to the `$spacers` Sass map variable.)

```scss
.m-0 {
  margin: 0 !important;
}

.mt-0,
.my-0 {
  margin-top: 0 !important;
}

.mr-0,
.mx-0 {
  margin-right: 0 !important;
}

.mb-0,
.my-0 {
  margin-bottom: 0 !important;
}

.ml-0,
.mx-0 {
  margin-left: 0 !important;
}
```

```scss
.m-1 {
  margin: 0.25rem !important;
}
.m-2 {
  margin: 0.5rem !important;
}
.m-3 {
  margin: 1rem !important;
}
.m-4 {
  margin: 1.5rem !important;
}
.m-5 {
  margin: 3rem !important;
}
```

```scss
.p-0 {
  padding: 0 !important;
}
// ...
```

```scss
.m-n1 {
  margin: -0.25rem !important;
}
```

```scss
.m-auto {
  margin: auto !important;
}
```

`.m-sm-0` `.p-sm-0` `.m-sm-n1` 
`.m-md-0` `.m-lg-0` `.m-xl-0`

**Alignment**
Vertical alignment

`align-items-start` `align-items-center` `align-items-end`

`align-self-start` `align-self-center` `align-self-end`

Horizontal alignment

`justify-content-start` `justify-content-center` `justify-content-end` `justify-content-around` `justify-content-between`

**offset**

```scss
.offset-1 {
  margin-left: 8.333333%;
}
// ...
.offset-11 {
  margin-left: 91.666667%;
}
```
```scss
.offset-sm-0 {
  margin-left: 0;
}
// ...
.offset-xl-11 {
  margin-left: 91.666667%;
}
```

**order**
```scss
.order-first {
  -ms-flex-order: -1;
  order: -1;
}

.order-last {
  -ms-flex-order: 13;
  order: 13;
}
```

```scss
.order-0 {
  -ms-flex-order: 0;
  order: 0;
}
// ...
.order-12 {
  -ms-flex-order: 12;
  order: 12;
}
```

```scss
.order-sm-0 {
  -ms-flex-order: 0;
  order: 0;
}
// ...
.order-xl-12 {
  -ms-flex-order: 12;
  order: 12;
}
```

**display**
```scss
.d-none {
  display: none !important;
}
.d-block {
  display: block !important;
}
// ...
```

`.d-sm-none`
`.d-xl-none`

## Reboot
Reboot, a collection of element-specific CSS changes in a single file, kickstart Bootstrap to provide an elegant, consistent, and simple baseline to build upon.

## Utilities

### borders

### shadow

### sizing
`.w-25` `.w-50` `.w-75` `.w-100` `.w-auto`
`.h-25` `.h-50` `.h-75` `.h-100` `.h-auto`
`.mw-100` `.mh-100`
```scss
.w-25 {
  width: 25% !important;
}
// ...
```

## Components


## source code
```
bootstrap/
├── dist/
│   ├── css/
│   └── js/
├── site/
│   └──docs/
│      └── 4.3/
│          └── examples/
├── js/
└── scss/
```
The `scss/` and `js/` are the source code for our CSS and JavaScript.