---

layout: post
title: "Termux"
date: 2021-08-04

---

# Install

从 `Fdroid` 下载最新版

- Termux
- Termux:API
- Termux:Styling
- Termux:Boot
- Termux:Widget

> <https://termux.com/>

## Repo
```bash
# 使用方向键和空格控制
termux-change-repo
```

## Extra-Keys
`~/.termux/termux.properties`

```
extra-keys = [ \
  [{key: ESC, popup: KEYBOARD},{key: '-', popup: '|'},{key: '{', popup: '}'},{key: '[', popup: ']'},{key: '(', popup: ')'},{key: '/', popup: 'BACKSLASH'},'~','UP',':'], \
  ['TAB','CTRL','ALT','#','*','`','LEFT','DOWN','RIGHT'] \
]
```

## Storage

`termux-setup-storage`

`storage` folder in home.

# zsh
```
apt install zsh git
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

> <https://github.com/ohmyzsh/ohmyzsh>

# vim

```sh
pkg add neovim
pip install pynvim
# copy .vimrc -> ~/.config/nvim/init.vim
# insall Plug
vim +PlugInstall
# in vim run :CocInstall coc-json coc-tsserver coc-emmet coc-jedi
```

# ssh
```bash
# termux
pkg install openssh coreutils
whoami
sshd
```

```bash
# client
ssh -p 8022 user@127.0.0.1
```

# Crontab

```sh
pkg install cronie termux-services
# restart termux
sv-enable crond
crontab -e 
```

```sh
export VISUAL=vi
```

```crontab
0 9,17,22 * * * python $HOME/rss.py
```

> <https://crontab.guru/>

# node
```sh
pkg add nodejs
npm install -g yarn
```

# ruby
```sh
pkg add ruby
gem install bundle
```

## jekyll
```sh
pkg install ruby clang make pkg-config libxslt
gem install nokogiri --platform=ruby -- --use-system-libraries
bundle update
bundle exec jekyll serve
```

> https://nokogiri.org/tutorials/installing_nokogiri.html

# python
```
pip install ipython
```

# Others

```bash
pkg add ripgrep
pkg add bat
pkg add git-delta
pkg add dust
pkg add nmap
pkg add exiftool
```

# Addons

> <https://wiki.termux.com/wiki/Addons>

## style

> https://github.com/adi1090x/termux-style

## API

Download add-on: `Termux:API`

```bash
pkg install termux-api
```

```sh
cat file.txt | termux-clipboard-set
```

- `termux-notification`
- `termux-share`
- ...

> <https://wiki.termux.com/wiki/Termux:API>

## Widget

```sh
mkdir -p $HOME/.shortcuts/tasks
```

```sh
chmod +x yourscript.sh
```

> <https://wiki.termux.com/wiki/Termux:Widget>

## Boot

> <https://wiki.termux.com/wiki/Termux:Boot>

# Packages

- `termux-am` - activity manager
- `termux-services` - run services
- `termux-tools` - basic system tools for termux
  + `termux-change-repo`
  + ...
- `science-repo`
  + Geometry, Algebra, etc.
- `game-repo`
  + Nethack
  + Angband
  + Brogue
  + dMagnetic
  + ...

## termux-am
可以发送任意 `Intent`，如 `broadcast`：

```sh
am broadcast -a org.kustom.action.SEND_VAR \
--es org.kustom.action.EXT_NAME "termux" \
--es org.kustom.action.VAR_NAME "test" \
--es org.kustom.action.VAR_VALUE "hello"
```

## termux-services

**custom services**

```sh
mkdir -p $PREFIX/var/service/<PKG>/log
ln -sf $PREFIX/share/termux-services/svlogger $PREFIX/var/service/<PKG>/log/run
```

and then put your run script for the package at `$PREFIX/var/service/<PKG>/run` and make sure that it is runnable.

```bash
#!/data/data/com.termux/files/usr/bin/sh
JEKYLL_HOME="/storage/emulated/0/jekyll-home"
cd $JEKYLL_HOME
exec bundle exec jekyll serve 2>&1
```

> <https://wiki.termux.com/wiki/Termux-services>

# adb

> <https://github.com/rendiix/termux-adb-fastboot>

## am

## pm

## Toybox
0BSD licensed `BusyBox` alternative.