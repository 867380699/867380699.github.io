---

layout: post
title: "vim"
date: 2021-07-18

---

# vim

`vim` - Vi IMproved, a programmer's text editor

## Move
Basic - `h` `j` `k` `l`
Word - `w` `b` `e` `ge`
Line - `^` `$` `0` `j` `g` `G`
Paragraph - `{` `}`
Screen - `Ctrl+d` `Ctrl+u` `Ctrl+f` `Ctrl+b`
Char - `f` `F` `t` `T` `;`
Parenthesis - `%`

## Search
`/` `?` `n` `N`
`*` `#`

## Insert
`i` `a` `o`
`I` `A` `O`

## Edit
`dd` `yy` `p`
`x` `u`

## Visual
`v` `V`
`aw` `as` `ap` `a'` `a"`

## Split

`:sp` `:vsp`

`Ctrl + w + h/j/k/l`

## Tabs

`:tabnew [file]`

`gt` `gT` `<N>gt`

`:tabs` - List the tab pages and the windows they contain.

`:tabm[ove] {count}` - move tab to index `{count}`

`:tabc[lose][!] {count}` - close tab
`:tabo[nly][!]` - close other tabs
`:tabn[ext] {count}` - Go to tab page `{count}`

`{count}` - `1`, `+`, `-`, `+3`, `-3`, `$`

> :help tab-page-intro

## Leader

`\` - default

```r
let mapleader = "," 
```

```r
:nnoremap <leader>h :noh<CR>
```

## Links

`<c-]>` `<c-o>`

## :

`:help`

`:set all`

`:set {option}!`

`:set invlist`: `^I`表示一个`tab`

`:noh`: 关闭 search highlight

## .vimrc

```r
set number
set expandtab
set tabstop=2
set softtabstop=2
syntax on
set hlsearch
```

## vim-plug

```bash
curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
```

```r
call plug#begin('~/.vim/plugged')

Plug 'vim-airline/vim-airline'
Plug 'preservim/nerdtree'
Plug 'jistr/vim-nerdtree-tabs'
Plug 'Yggdroot/LeaderF'
Plug 'airblade/vim-gitgutter'
Plug 'tpope/vim-fugitive'
Plug 'Raimondi/delimitMate'
Plug 'tpope/vim-surround'

call plug#end()
```

`PlugInstall`
 
> <https://github.com/junegunn/vim-plug>

## airline

```r
let g:airline#extensions#tabline#enabled = 1
```

> <https://github.com/vim-airline/vim-airline>

## NERDTree

`:NERDTree`

`t` - Open in new tab
`A` - FullScreen

```r
:nnoremap <leader>n :NERDTree<CR>
```

### Git

```r
Plug 'Xuyuanp/nerdtree-git-plugin'
```

```r
let g:NERDTreeGitStatusUseNerdFonts = 1
```

### Highlight
```r
Plug 'tiagofumo/vim-nerdtree-syntax-highlight'
```

## LeaderF

```r
Plug 'Yggdroot/LeaderF'
```

- `<leader>f`
- `<leader>b`

`<c-t>` - Open in new tab
`<c-x>` - Open in split
`<c-]>` - Open in vertical split

`<c-j>`, `<c-k>` or the arrow keys to navigate the result list.

`:Leaderf <subcommand>`

```r
let g:Lf_StlSeparator = { 'left': '', 'right': '' }
let g:Lf_ReverseOrder = 1
```

> <https://github.com/Yggdroot/LeaderF>

## Git

> <https://github.com/airblade/vim-gitgutter>
> <https://github.com/Xuyuanp/nerdtree-git-plugin>

> <https://github.com/tpope/vim-fugitive>
> <https://github.com/mhinz/vim-signify>

`:G` - status

`?` - help
`s` - stage
`u` - unstage
`=` - diff

`:G commit`

`:G push`

### gitgutter

```r
highlight clear SignColumn
highlight GitGutterAdd ctermfg=2
highlight GitGutterChange ctermfg=3
highlight GitGutterDelete ctermfg=1
highlight GitGutterChangeDelete ctermfg=4
```

```r
:GitGutterLineHighlightsToggle
```

## Markdown

```r
Plug 'godlygeek/tabular'
Plug 'plasticboy/vim-markdown'
```

```r
let g:vim_markdown_folding_disabled = 1
let g:vim_markdown_toc_autofit = 1
let g:vim_markdown_math = 1
let g:vim_markdown_frontmatter = 1
let g:vim_markdown_fenced_languages = ['css', 'rb=ruby', 'javascript', 'js=javascript', 'typescript', 'ts=typescript', 'json=javascript', 'ruby', 'sass', 'xml']
```

`:Toc`

`]]` - go to next header.
`[[` - go to previous header. 

## Others

### delimitMate
automatic closing of quotes, parenthesis, brackets, etc.

> <https://github.com/Raimondi/delimitMate>

## Theme

### VS Code

> <https://github.com/tomasiser/vim-code-dark>

```r
Plug 'tomasiser/vim-code-dark'
```

`.vimrc`

```r
colorscheme codedark
let g:airline_theme = 'codedark'
```

### Icons

```r
Plug 'ryanoasis/vim-devicons'
```

# nvim

## migration

`~/.vimrc` -> `~/.config/nvim/init.vim`

## Plug

```
sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs \
       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
```